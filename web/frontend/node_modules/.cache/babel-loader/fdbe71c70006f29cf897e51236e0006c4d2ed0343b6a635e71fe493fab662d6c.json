{"ast":null,"code":"var _jsxFileName = \"/Users/harshsrivastava/Desktop/distributed-manufacturing-pipeline-simulation-system/web/frontend/src/components/authpage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Link, useNavigate } from \"react-router-dom\";\nimport { TextField, Button, Select, MenuItem, Typography, Container, Box, AppBar, Toolbar } from \"@mui/material\";\nimport axios from \"axios\";\nimport Dashboard from \"../dashboard/dashboard\";\n\n// âœ… Function to decode JWT token and extract user_id\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst decodeToken = token => {\n  try {\n    const payload = JSON.parse(atob(token.split(\".\")[1]));\n    return payload;\n  } catch (error) {\n    console.error(\"Failed to decode token:\", error);\n    return null;\n  }\n};\n\n// âœ… Function to check if token is expired\nconst isTokenExpired = token => {\n  const payload = decodeToken(token);\n  if (!payload || !payload.exp) return true;\n  return Date.now() >= payload.exp * 1000;\n};\n\n// âœ… Check and redirect if token is expired\nconst checkSession = navigate => {\n  const token = localStorage.getItem(\"token\");\n  if (!token || isTokenExpired(token)) {\n    console.warn(\"Token expired. Logging out...\");\n    localStorage.clear();\n    navigate(\"/login\");\n  }\n};\nconst AuthLayout = ({\n  children,\n  title\n}) => {\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: \"center\",\n        mt: 5,\n        p: 4,\n        boxShadow: 3,\n        borderRadius: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: {\n          mb: 2\n        },\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_c = AuthLayout;\nconst RegisterPage = ({\n  apiType\n}) => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const handleRegister = async () => {\n    setMessage(\"\");\n    // if (apiType === \"rest\") {\n    try {\n      // await axios.post(\"http://localhost:30081/register\", { email, password });\n      await axios.post(\"http://localhost:8080/register\", {\n        email,\n        password\n      });\n      setMessage(\"Registration successful! Please check your email to verify.\");\n      window.open(\"https://mail.google.com\", \"_blank\");\n    } catch {\n      setMessage(\"Registration failed. Please try again.\");\n    }\n    // } else {\n    //   console.log(`Run this gRPC command manually: grpcurl -plaintext -d '{\"email\": \"${email}\", \"password\": \"${password}\"}' localhost:50051 auth.AuthService/Register`);\n    //   setMessage(\"Open your email and click the link to authenticate.\");\n    // }\n  };\n  return /*#__PURE__*/_jsxDEV(AuthLayout, {\n    title: \"Register\",\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Email\",\n      fullWidth: true,\n      margin: \"normal\",\n      value: email,\n      onChange: e => setEmail(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Password\",\n      type: \"password\",\n      fullWidth: true,\n      margin: \"normal\",\n      value: password,\n      onChange: e => setPassword(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      fullWidth: true,\n      onClick: handleRegister,\n      sx: {\n        mt: 2\n      },\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        mt: 2,\n        color: \"green\"\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        mt: 2\n      },\n      children: [\"Already registered? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 54\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(RegisterPage, \"pYIZRxIlFAD5+gNNexhYiyUpiX4=\", false, function () {\n  return [useNavigate];\n});\n_c2 = RegisterPage;\nconst LoginPage = ({\n  apiType\n}) => {\n  _s2();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    checkSession(navigate); // âœ… Auto logout if token expired\n  }, []);\n  const handleLogin = async () => {\n    setMessage(\"\");\n    // if (apiType === \"rest\") {\n    try {\n      // const response = await axios.post(\n      //   \"http://localhost:8080/login\",\n      //   { email, password },\n      //   {\n      //     headers: { \"Content-Type\": \"application/json\" },\n      //     withCredentials: true, // âœ… Ensure cross-origin cookies are included\n      //   }\n      // );\n      // const response = await axios.post(\"http://localhost:30081/login\", { email, password });\n      const response = await axios.post(\"http://localhost:8080/login\", {\n        email,\n        password\n      });\n\n      // // âœ… Extract user_id, email, and token correctly\n      // const { user_id, token } = response.data;\n      // console.log(\"Full Response from Backend:\", response.data);\n      // if (!user_id || !email || !token) throw new Error(\"Invalid response from backend\");\n\n      // console.log(\"User ID:\", user_id);\n\n      // // âœ… Store user_id and token for session persistence\n      // localStorage.setItem(\"user_id\", user_id);\n      // localStorage.setItem(\"email\", email);\n      // localStorage.setItem(\"token\", token);\n\n      const {\n        token\n      } = response.data;\n      if (!token) throw new Error(\"Token not received\");\n      console.log(\"ðŸ”¹ Token received from backend:\", token); // Debugging token\n\n      // âœ… Store token in localStorage\n      localStorage.setItem(\"token\", token);\n\n      // âœ… Decode token to extract user ID (JWT tokens are usually Base64 encoded)\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\n      console.log(\"ðŸ”¹ Decoded Token Payload:\", payload); // Debugging token payload\n      localStorage.setItem(\"user_id\", payload.sub);\n      navigate(\"/dashboard\");\n    } catch (error) {\n      console.error(\"Login failed:\", error);\n      setMessage(\"Login failed. Please check your credentials.\");\n    }\n    // } else {\n    //   console.log(`Run this gRPC command manually: grpcurl -plaintext -d '{\"email\": \"${email}\", \"password\": \"${password}\"}' localhost:50051 auth.AuthService/Login`);\n    //   setMessage(\"Check console for gRPC login command.\");\n    // }\n  };\n  return /*#__PURE__*/_jsxDEV(AuthLayout, {\n    title: \"Login\",\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Email\",\n      fullWidth: true,\n      margin: \"normal\",\n      value: email,\n      onChange: e => setEmail(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Password\",\n      type: \"password\",\n      fullWidth: true,\n      margin: \"normal\",\n      value: password,\n      onChange: e => setPassword(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      fullWidth: true,\n      onClick: handleLogin,\n      sx: {\n        mt: 2\n      },\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        mt: 2,\n        color: \"red\"\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        mt: 2\n      },\n      children: [\"Do not have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 58\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n};\n_s2(LoginPage, \"DVsfrojKxBzHPIiObo1nYNxJj8I=\", false, function () {\n  return [useNavigate];\n});\n_c3 = LoginPage;\nconst App = () => {\n  // const [apiType, setApiType] = useState(\"rest\");\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        sx: {\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"Distributed Manufacturing System\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/register\",\n        element: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/dashboard/*\",\n        element: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"AuthLayout\");\n$RefreshReg$(_c2, \"RegisterPage\");\n$RefreshReg$(_c3, \"LoginPage\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Link","useNavigate","TextField","Button","Select","MenuItem","Typography","Container","Box","AppBar","Toolbar","axios","Dashboard","jsxDEV","_jsxDEV","decodeToken","token","payload","JSON","parse","atob","split","error","console","isTokenExpired","exp","Date","now","checkSession","navigate","localStorage","getItem","warn","clear","AuthLayout","children","title","maxWidth","sx","textAlign","mt","p","boxShadow","borderRadius","variant","mb","fileName","_jsxFileName","lineNumber","columnNumber","_c","RegisterPage","apiType","_s","email","setEmail","password","setPassword","message","setMessage","handleRegister","post","window","open","label","fullWidth","margin","value","onChange","e","target","type","color","onClick","to","_c2","LoginPage","_s2","handleLogin","response","data","Error","log","setItem","sub","_c3","App","position","display","justifyContent","path","element","_c4","$RefreshReg$"],"sources":["/Users/harshsrivastava/Desktop/distributed-manufacturing-pipeline-simulation-system/web/frontend/src/components/authpage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Link, useNavigate } from \"react-router-dom\";\nimport { TextField, Button, Select, MenuItem, Typography, Container, Box, AppBar, Toolbar } from \"@mui/material\";\nimport axios from \"axios\";\nimport Dashboard from \"../dashboard/dashboard\";\n\n// âœ… Function to decode JWT token and extract user_id\nconst decodeToken = (token) => {\n  try {\n    const payload = JSON.parse(atob(token.split(\".\")[1]));\n    return payload;\n  } catch (error) {\n    console.error(\"Failed to decode token:\", error);\n    return null;\n  }\n};\n\n// âœ… Function to check if token is expired\nconst isTokenExpired = (token) => {\n  const payload = decodeToken(token);\n  if (!payload || !payload.exp) return true;\n  return Date.now() >= payload.exp * 1000;\n};\n\n// âœ… Check and redirect if token is expired\nconst checkSession = (navigate) => {\n  const token = localStorage.getItem(\"token\");\n  if (!token || isTokenExpired(token)) {\n    console.warn(\"Token expired. Logging out...\");\n    localStorage.clear();\n    navigate(\"/login\");\n  }\n};\n\n\nconst AuthLayout = ({ children, title }) => {\n  return (\n    <Container maxWidth=\"sm\">\n      <Box sx={{ textAlign: \"center\", mt: 5, p: 4, boxShadow: 3, borderRadius: 2 }}>\n        <Typography variant=\"h4\" sx={{ mb: 2 }}>{title}</Typography>\n        {children}\n      </Box>\n    </Container>\n  );\n};\n\nconst RegisterPage = ({ apiType }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleRegister = async () => {\n    setMessage(\"\");\n    // if (apiType === \"rest\") {\n      try {\n        // await axios.post(\"http://localhost:30081/register\", { email, password });\n        await axios.post(\"http://localhost:8080/register\", { email, password });\n        setMessage(\"Registration successful! Please check your email to verify.\");\n        window.open(\"https://mail.google.com\", \"_blank\");\n      } catch {\n        setMessage(\"Registration failed. Please try again.\");\n      }\n    // } else {\n    //   console.log(`Run this gRPC command manually: grpcurl -plaintext -d '{\"email\": \"${email}\", \"password\": \"${password}\"}' localhost:50051 auth.AuthService/Register`);\n    //   setMessage(\"Open your email and click the link to authenticate.\");\n    // }\n  };\n\n  return (\n    <AuthLayout title=\"Register\">\n      <TextField label=\"Email\" fullWidth margin=\"normal\" value={email} onChange={(e) => setEmail(e.target.value)} />\n      <TextField label=\"Password\" type=\"password\" fullWidth margin=\"normal\" value={password} onChange={(e) => setPassword(e.target.value)} />\n      <Button variant=\"contained\" color=\"primary\" fullWidth onClick={handleRegister} sx={{ mt: 2 }}>Register</Button>\n      {message && <Typography sx={{ mt: 2, color: \"green\" }}>{message}</Typography>}\n      <Typography sx={{ mt: 2 }}>Already registered? <Link to=\"/login\">Login</Link></Typography>\n    </AuthLayout>\n  );\n};\n\nconst LoginPage = ({ apiType }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    checkSession(navigate);  // âœ… Auto logout if token expired\n  }, []);\n\n  const handleLogin = async () => {\n    setMessage(\"\");\n    // if (apiType === \"rest\") {\n      try {\n        // const response = await axios.post(\n        //   \"http://localhost:8080/login\",\n        //   { email, password },\n        //   {\n        //     headers: { \"Content-Type\": \"application/json\" },\n        //     withCredentials: true, // âœ… Ensure cross-origin cookies are included\n        //   }\n        // );\n        // const response = await axios.post(\"http://localhost:30081/login\", { email, password });\n        const response = await axios.post(\"http://localhost:8080/login\", { email, password });\n  \n        // // âœ… Extract user_id, email, and token correctly\n        // const { user_id, token } = response.data;\n        // console.log(\"Full Response from Backend:\", response.data);\n        // if (!user_id || !email || !token) throw new Error(\"Invalid response from backend\");\n  \n        // console.log(\"User ID:\", user_id);\n  \n        // // âœ… Store user_id and token for session persistence\n        // localStorage.setItem(\"user_id\", user_id);\n        // localStorage.setItem(\"email\", email);\n        // localStorage.setItem(\"token\", token);\n\n        const { token } = response.data;\n        if (!token) throw new Error(\"Token not received\");\n        console.log(\"ðŸ”¹ Token received from backend:\", token);  // Debugging token\n\n        // âœ… Store token in localStorage\n        localStorage.setItem(\"token\", token);\n\n        // âœ… Decode token to extract user ID (JWT tokens are usually Base64 encoded)\n        const payload = JSON.parse(atob(token.split(\".\")[1]));\n        console.log(\"ðŸ”¹ Decoded Token Payload:\", payload); // Debugging token payload\n        localStorage.setItem(\"user_id\", payload.sub);\n  \n        navigate(\"/dashboard\");\n      } catch (error) {\n        console.error(\"Login failed:\", error);\n        setMessage(\"Login failed. Please check your credentials.\");\n      }\n    // } else {\n    //   console.log(`Run this gRPC command manually: grpcurl -plaintext -d '{\"email\": \"${email}\", \"password\": \"${password}\"}' localhost:50051 auth.AuthService/Login`);\n    //   setMessage(\"Check console for gRPC login command.\");\n    // }\n  };\n  \n\n  return (\n    <AuthLayout title=\"Login\">\n      <TextField label=\"Email\" fullWidth margin=\"normal\" value={email} onChange={(e) => setEmail(e.target.value)} />\n      <TextField label=\"Password\" type=\"password\" fullWidth margin=\"normal\" value={password} onChange={(e) => setPassword(e.target.value)} />\n      <Button variant=\"contained\" color=\"primary\" fullWidth onClick={handleLogin} sx={{ mt: 2 }}>Login</Button>\n      {message && <Typography sx={{ mt: 2, color: \"red\" }}>{message}</Typography>}\n      <Typography sx={{ mt: 2 }}>Do not have an account? <Link to=\"/register\">Register</Link></Typography>\n    </AuthLayout>\n  );\n};\n\nconst App = () => {\n  // const [apiType, setApiType] = useState(\"rest\");\n\n  return (\n    <Router>\n      <AppBar position=\"static\">\n        <Toolbar sx={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <Typography variant=\"h6\">Distributed Manufacturing System</Typography>\n          {/* <Select value={apiType} onChange={(e) => setApiType(e.target.value)} sx={{ color: \"white\", backgroundColor: \"gray\" }}>\n            <MenuItem value=\"rest\">REST API</MenuItem>\n            <MenuItem value=\"grpc\">gRPC</MenuItem>\n          </Select> */}\n        </Toolbar>\n      </AppBar>\n      {/* <Routes>\n        <Route path=\"/register\" element={<RegisterPage apiType={apiType} />} />\n        <Route path=\"/login\" element={<LoginPage apiType={apiType} />} />\n        <Route path=\"/dashboard/*\" element={<Dashboard />} />\n        <Route path=\"/\" element={<RegisterPage apiType={apiType} />} />\n      </Routes> */}\n      <Routes>\n        <Route path=\"/register\" element={<RegisterPage />} />\n        <Route path=\"/login\" element={<LoginPage />} />\n        <Route path=\"/dashboard/*\" element={<Dashboard />} />\n        <Route path=\"/\" element={<RegisterPage />} />\n      </Routes>\n    </Router>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}